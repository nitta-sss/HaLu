{% load static %}
<!DOCTYPE html>
<html lang="ja">

    <head>
        <meta charset="UTF-8">
        <title>Halu UI</title>
        <link rel="stylesheet" href="{% static 'CSS/style.css' %}">
    </head>

    <body>
        <div class="header">
            <div class="user-box">
                <img src="{% static 'img/face.png' %}" class="icon">
                <span class="username">Halu</span>
            </div>
        </div>

        <div class="container">

            <!-- â˜…â˜…â˜… å·¦ã‚¨ãƒªã‚¢ â˜…â˜…â˜… -->
            <div class="left-area">
                <div class="chat-box">
                    {% for msg in messages %}
                        <div class="balloon {{ msg.sender }}">
                            {{ msg.text }}
                        </div>
                    {% endfor %}
                </div>
                <div class="speak-icon">
                    ğŸ—£
                </div>
            </div>

            <!-- â˜…â˜…â˜… å³ã‚¨ãƒªã‚¢ â˜…â˜…â˜… -->
            <div class="right-area">
                <!-- èƒŒæ™¯ç”»åƒï¼‹ãƒ©ã‚¤ãƒˆã¯CSSã§è¨­å®š -->
                <img src="{% static 'img/windows.jpg' %}" class="right-back">

                <div class="face-area">
                    <img src="{% static 'img/HaLu_Face.png' %}" class="face-img">
                </div>

                <!-- æ„Ÿæƒ…ã‚²ãƒ¼ã‚¸ -->
                <div class="emotion-area">

                    <div class="bar-item">
                        <div class="bar-label">
                            è¦šé†’åº¦
                        </div>
                        <div class="bar-base">
                            <div class="bar-fill fill1" id="awakeBar"></div>
                        </div>
                    </div>
                    
                    <div class="bar-item">
                        <div class="bar-label">
                            å¿«æ¥½åº¦
                        </div>
                        <div class="bar-base">
                            <div class="bar-fill fill2" id="pleasureBar"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
        document.addEventListener("DOMContentLoaded", function () {
        
            const awakeBar = document.getElementById("awakeBar");
            const pleasureBar = document.getElementById("pleasureBar");
        
            // â˜… æ„Ÿæƒ…ã®ã€Œåº§æ¨™ã€ï¼ˆä¾‹ï¼‰
            let emotion = {
                x: 20,   // è¦šé†’åº¦ï¼ˆ0ã€œ100ï¼‰
                y: 80    // å¿«æ¥½åº¦ï¼ˆ0ã€œ100ï¼‰
            };
        
            // â˜… ã‚²ãƒ¼ã‚¸ã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
            function updateGauge() {
                awakeBar.style.width = emotion.x + "%";
                pleasureBar.style.width = emotion.y + "%";
            }
        
            // æœ€åˆã®è¡¨ç¤º
            updateGauge();
        
            // â˜… ãƒ†ã‚¹ãƒˆç”¨ï¼š3ç§’ã”ã¨ã«åº§æ¨™ãŒå¤‰ã‚ã‚‹
            setInterval(function () {
                emotion.x = Math.floor(Math.random() * 101); // 0ã€œ100
                emotion.y = Math.floor(Math.random() * 101);
        
                console.log("emotion:", emotion);
                updateGauge();
            }, 3000);
        
        });
        </script>
    </body>
</html>